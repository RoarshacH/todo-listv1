<!DOCTYPE html>
<html lang="en">
 <%- include("header.ejs"); %>
<body>
    <div class="box" id="heading">
        <h1 > <%= listTitle %> </h1>
    </div>
    

    <div class="box">
        <% newItems.forEach(function(item) { %>
         <form action="/delete" method="post">
            <div class="item">
                <input type="checkbox" name = "check" value="<%= item._id %>"
                onchange="this.form.submit()">
                <p>  <%= item.item %> </p>
            </div>
            <input type="hidden" name="listName" value= <%= listTitle %> >
        </form>
        <% }); %>   
    
        <form class="item"action="/" method="post" onsubmit="return validate()" >
            <input type="text" class="new" name="newInput" placeholder="New Item" autocomplete="off">
            <button type="submit" name="listName" value="<%= listTitle %>">+</button>
        </form>

    </div>

    
    
    <script>
        function validate(){
            let val = document.querySelector(".new").value;
            if (val == "") {
                alert("Give an item");
                return false;
            }
    }        
    </script>

</body>
</html>